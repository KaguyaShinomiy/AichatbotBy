// MBTI Quiz state management
let currentQuestion = 0;
let userAnswers = [];
let quizCompleted = false;
let mbtiScores = {
    I: 0, E: 0,  // Introversion vs Extroversion
    S: 0, N: 0,  // Sensing vs Intuition  
    T: 0, F: 0,  // Thinking vs Feeling
    J: 0, P: 0   // Judging vs Perceiving
};

// MBTI Quiz data structure - 40 questions total (10 per dimension)
const mbtiQuizData = [
    // I vs E Questions (1-10)
    {
        question: "‡∏â‡∏±‡∏ô‡∏ä‡∏≠‡∏ö‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤‡∏ß‡πà‡∏≤‡∏á‡πÉ‡∏ô‡∏ß‡∏±‡∏ô‡∏´‡∏¢‡∏∏‡∏î‡πÅ‡∏ö‡∏ö‡πÄ‡∏á‡∏µ‡∏¢‡∏ö‡πÜ ‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡πÑ‡∏õ‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏Ñ‡∏ô‡πÄ‡∏¢‡∏≠‡∏∞‡πÜ",
        dimension: "I-E",
        leftTrait: "I",  // Strongly Agree = Introversion
        rightTrait: "E"  // Strongly Disagree = Extroversion
    },
    {
        question: "‡∏â‡∏±‡∏ô‡∏ä‡∏≠‡∏ö‡∏™‡∏±‡∏á‡∏™‡∏£‡∏£‡∏Ñ‡πå‡πÅ‡∏•‡∏∞‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏à‡∏±‡∏Å‡∏Å‡∏±‡∏ö‡∏Ñ‡∏ô‡πÉ‡∏´‡∏°‡πà‡πÉ‡∏ô‡∏á‡∏≤‡∏ô‡∏õ‡∏≤‡∏£‡πå‡∏ï‡∏µ‡πâ",
        dimension: "I-E",
        leftTrait: "I",
        rightTrait: "E"
    },
    {
        question: "‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤‡∏Å‡∏±‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏´‡∏•‡∏≤‡∏¢‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á ‡∏â‡∏±‡∏ô‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏°‡∏µ‡∏û‡∏•‡∏±‡∏á‡πÅ‡∏•‡∏∞‡∏™‡∏î‡∏ä‡∏∑‡πà‡∏ô",
        dimension: "I-E",
        leftTrait: "I",
        rightTrait: "E"
    },
    {
        question: "‡∏â‡∏±‡∏ô‡∏ä‡∏≠‡∏ö‡∏ô‡∏≥‡πÄ‡∏™‡∏ô‡∏≠‡∏á‡∏≤‡∏ô‡∏ï‡πà‡∏≠‡∏´‡∏ô‡πâ‡∏≤‡∏Ñ‡∏ô‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏°‡∏≤‡∏Å‡πÅ‡∏•‡∏∞‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏ï‡∏∑‡πà‡∏ô‡πÄ‡∏ï‡πâ‡∏ô‡∏Å‡∏±‡∏ö‡∏°‡∏±‡∏ô",
        dimension: "I-E",
        leftTrait: "I",
        rightTrait: "E"
    },
    {
        question: "‡∏â‡∏±‡∏ô‡∏ä‡∏≠‡∏ö‡∏™‡∏≥‡∏£‡∏ß‡∏à‡πÅ‡∏•‡∏∞‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏™‡∏¥‡πà‡∏á‡πÉ‡∏´‡∏°‡πà‡πÉ‡∏ô‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏Ñ‡∏∏‡πâ‡∏ô‡πÄ‡∏Ñ‡∏¢",
        dimension: "I-E",
        leftTrait: "I",
        rightTrait: "E"
    },
    {
        question: "‡∏â‡∏±‡∏ô‡∏ä‡∏≠‡∏ö‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤‡πÅ‡∏•‡∏∞‡∏´‡∏≤‡∏£‡∏∑‡∏≠‡∏Å‡∏±‡∏ö‡∏Ñ‡∏ô‡∏≠‡∏∑‡πà‡∏ô",
        dimension: "I-E",
        leftTrait: "I",
        rightTrait: "E"
    },
    {
        question: "‡∏â‡∏±‡∏ô‡∏ä‡∏≠‡∏ö‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô‡πÅ‡∏•‡∏∞‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏≤‡∏£‡∏≠‡∏†‡∏¥‡∏õ‡∏£‡∏≤‡∏¢‡πÉ‡∏ô‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°",
        dimension: "I-E",
        leftTrait: "I",
        rightTrait: "E"
    },
    {
        question: "‡∏â‡∏±‡∏ô‡∏ä‡∏≠‡∏ö‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡∏ô‡∏≥‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡∏™‡∏≤‡∏ô‡∏á‡∏≤‡∏ô‡πÉ‡∏ô‡∏ó‡∏µ‡∏°‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ï‡∏≤‡∏°‡∏•‡∏≥‡∏û‡∏±‡∏á",
        dimension: "I-E",
        leftTrait: "I",
        rightTrait: "E"
    },
    {
        question: "‡∏â‡∏±‡∏ô‡∏ä‡∏≠‡∏ö‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏£‡∏ß‡∏î‡πÄ‡∏£‡πá‡∏ß‡πÅ‡∏•‡∏∞‡∏•‡∏á‡∏°‡∏∑‡∏≠‡∏ó‡∏≥‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡πÉ‡∏ô‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏â‡∏∏‡∏Å‡πÄ‡∏â‡∏¥‡∏ô",
        dimension: "I-E",
        leftTrait: "I",
        rightTrait: "E"
    },
    {
        question: "‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏´‡∏ô‡∏∑‡πà‡∏≠‡∏¢ ‡∏â‡∏±‡∏ô‡∏ä‡∏≠‡∏ö‡∏≠‡∏≠‡∏Å‡πÑ‡∏õ‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß‡∏´‡∏£‡∏∑‡∏≠‡∏û‡∏ö‡∏õ‡∏∞‡∏Å‡∏±‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ú‡πà‡∏≠‡∏ô‡∏Ñ‡∏•‡∏≤‡∏¢",
        dimension: "I-E",
        leftTrait: "I",
        rightTrait: "E"
    },
    
    // S vs N Questions (11-20)
    {
        question: "‡∏â‡∏±‡∏ô‡∏ä‡∏≠‡∏ö‡∏≠‡πà‡∏≤‡∏ô‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏ó‡∏µ‡πà‡πÄ‡∏ô‡πâ‡∏ô‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÅ‡∏•‡∏∞‡∏Ç‡πâ‡∏≠‡πÄ‡∏ó‡πá‡∏à‡∏à‡∏£‡∏¥‡∏á‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏£‡∏£‡∏Ñ‡πå",
        dimension: "S-N",
        leftTrait: "S",
        rightTrait: "N"
    },
    {
        question: "‡∏â‡∏±‡∏ô‡∏ä‡∏≠‡∏ö‡∏Ñ‡∏£‡∏π‡∏ó‡∏µ‡πà‡∏™‡∏≠‡∏ô‡πÅ‡∏ö‡∏ö‡πÄ‡∏ô‡πâ‡∏ô‡∏ó‡∏§‡∏©‡∏é‡∏µ‡πÅ‡∏•‡∏∞‡πÅ‡∏ô‡∏ß‡∏Ñ‡∏¥‡∏î‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡∏Å‡∏≤‡∏£‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏à‡∏£‡∏¥‡∏á",
        dimension: "S-N",
        leftTrait: "S",
        rightTrait: "N"
    },
    {
        question: "‡∏â‡∏±‡∏ô‡∏ä‡∏≠‡∏ö‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏≤‡∏£‡∏Ñ‡∏¥‡∏î‡∏ô‡∏≠‡∏Å‡∏Å‡∏£‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡∏´‡∏≤‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡πÉ‡∏´‡∏°‡πà‡πÜ",
        dimension: "S-N",
        leftTrait: "S",
        rightTrait: "N"
    },
    {
        question: "‡∏â‡∏±‡∏ô‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏ñ‡∏∑‡∏≠‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡πâ‡∏≠‡πÄ‡∏ó‡πá‡∏à‡∏à‡∏£‡∏¥‡∏á‡πÅ‡∏•‡∏∞‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏û‡∏¥‡∏™‡∏π‡∏à‡∏ô‡πå‡πÑ‡∏î‡πâ‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å",
        dimension: "S-N",
        leftTrait: "S",
        rightTrait: "N"
    },
    {
        question: "‡∏â‡∏±‡∏ô‡∏ä‡∏≠‡∏ö‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡πÅ‡∏ö‡∏ö‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÅ‡∏•‡∏∞‡∏°‡∏µ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡πÅ‡∏ô‡πà‡∏ô‡∏≠‡∏ô",
        dimension: "S-N",
        leftTrait: "S",
        rightTrait: "N"
    },
    {
        question: "‡∏â‡∏±‡∏ô‡∏ä‡∏≠‡∏ö‡∏á‡∏≤‡∏ô‡∏®‡∏¥‡∏•‡∏õ‡∏∞‡∏ó‡∏µ‡πà‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢‡∏•‡∏∂‡∏Å‡∏ã‡∏∂‡πâ‡∏á‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏£‡∏£‡∏Ñ‡πå‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏ß‡∏¢‡∏á‡∏≤‡∏°",
        dimension: "S-N",
        leftTrait: "S",
        rightTrait: "N"
    },
    {
        question: "‡∏â‡∏±‡∏ô‡∏ä‡∏≠‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡πÉ‡∏´‡∏°‡πà‡πÅ‡∏ö‡∏ö‡∏Ñ‡πà‡∏≠‡∏¢‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡πà‡∏≠‡∏¢‡πÑ‡∏õ‡πÅ‡∏•‡∏∞‡πÄ‡∏ô‡πâ‡∏ô‡∏Å‡∏≤‡∏£‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏à‡∏£‡∏¥‡∏á",
        dimension: "S-N",
        leftTrait: "S",
        rightTrait: "N"
    },
    {
        question: "‡∏â‡∏±‡∏ô‡∏ä‡∏≠‡∏ö‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏ô‡πâ‡∏ô‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏£‡∏£‡∏Ñ‡πå",
        dimension: "S-N",
        leftTrait: "S",
        rightTrait: "N"
    },
    {
        question: "‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç ‡∏â‡∏±‡∏ô‡∏û‡∏∂‡πà‡∏á‡∏û‡∏≤‡∏™‡∏±‡∏ç‡∏ä‡∏≤‡∏ï‡∏ç‡∏≤‡∏ì‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡∏Ç‡πâ‡∏≠‡πÄ‡∏ó‡πá‡∏à‡∏à‡∏£‡∏¥‡∏á",
        dimension: "S-N",
        leftTrait: "S",
        rightTrait: "N"
    },
    {
        question: "‡∏â‡∏±‡∏ô‡∏™‡∏ô‡πÉ‡∏à‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏π‡∏õ‡∏ò‡∏£‡∏£‡∏°‡πÅ‡∏•‡∏∞‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡∏±‡∏°‡∏ú‡∏±‡∏™‡πÑ‡∏î‡πâ‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡∏ô‡∏≤‡∏°‡∏ò‡∏£‡∏£‡∏°",
        dimension: "S-N",
        leftTrait: "S",
        rightTrait: "N"
    },
    
    // T vs F Questions (21-30)
    {
        question: "‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏°‡∏≤‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß ‡∏â‡∏±‡∏ô‡∏ä‡∏≠‡∏ö‡πÉ‡∏´‡πâ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏´‡∏ï‡∏∏‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏•‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÉ‡∏à",
        dimension: "T-F",
        leftTrait: "T",
        rightTrait: "F"
    },
    {
        question: "‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏ó‡∏µ‡∏° ‡∏â‡∏±‡∏ô‡πÉ‡∏´‡πâ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Å‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡πÅ‡∏•‡∏∞‡∏ö‡∏£‡∏£‡∏¢‡∏≤‡∏Å‡∏≤‡∏®‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡∏ú‡∏•‡∏á‡∏≤‡∏ô",
        dimension: "T-F",
        leftTrait: "T",
        rightTrait: "F"
    },
    {
        question: "‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏´‡πâ‡∏Ñ‡∏≥‡∏ï‡∏¥‡∏ä‡∏° ‡∏â‡∏±‡∏ô‡∏ä‡∏≠‡∏ö‡πÉ‡∏´‡πâ‡∏Ñ‡∏≥‡∏ï‡∏¥‡∏ä‡∏°‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏á‡πÑ‡∏õ‡∏ï‡∏£‡∏á‡∏°‡∏≤‡πÅ‡∏•‡∏∞‡πÄ‡∏ô‡πâ‡∏ô‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÉ‡∏à",
        dimension: "T-F",
        leftTrait: "T",
        rightTrait: "F"
    },
    {
        question: "‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ö‡∏Ñ‡∏ô‡∏≠‡∏∑‡πà‡∏ô ‡∏â‡∏±‡∏ô‡πÉ‡∏´‡πâ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Å‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏ô‡∏≠‡∏∑‡πà‡∏ô‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡∏ú‡∏•‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå",
        dimension: "T-F",
        leftTrait: "T",
        rightTrait: "F"
    },
    {
        question: "‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ‡∏Ñ‡∏ô‡∏ó‡∏≥‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î ‡∏â‡∏±‡∏ô‡∏ä‡∏≠‡∏ö‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡πÅ‡∏•‡∏∞‡∏´‡∏≤‡∏ó‡∏≤‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏≠‡∏†‡∏±‡∏¢",
        dimension: "T-F",
        leftTrait: "T",
        rightTrait: "F"
    },
    {
        question: "‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ç‡∏±‡∏î‡πÅ‡∏¢‡πâ‡∏á ‡∏â‡∏±‡∏ô‡∏ä‡∏≠‡∏ö‡∏´‡∏≤‡∏ó‡∏≤‡∏á‡∏õ‡∏£‡∏∞‡∏ô‡∏µ‡∏õ‡∏£‡∏∞‡∏ô‡∏≠‡∏°‡πÅ‡∏•‡∏∞‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡∏Å‡∏≤‡∏£‡∏´‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á",
        dimension: "T-F",
        leftTrait: "T",
        rightTrait: "F"
    },
    {
        question: "‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏ú‡∏•‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏ô‡∏≠‡∏∑‡πà‡∏ô ‡∏â‡∏±‡∏ô‡πÄ‡∏ô‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°",
        dimension: "T-F",
        leftTrait: "T",
        rightTrait: "F"
    },
    {
        question: "‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏á‡∏≤‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡∏≠‡∏≤‡∏ä‡∏µ‡∏û ‡∏â‡∏±‡∏ô‡πÉ‡∏´‡πâ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Å‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢‡πÅ‡∏•‡∏∞‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡πà‡∏≤‡∏Ç‡∏≠‡∏á‡∏á‡∏≤‡∏ô‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á",
        dimension: "T-F",
        leftTrait: "T",
        rightTrait: "F"
    },
    {
        question: "‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡πÉ‡∏ô‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ó‡∏µ‡πà‡∏ï‡∏∂‡∏á‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î ‡∏â‡∏±‡∏ô‡πÉ‡∏´‡πâ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Å‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏ô‡∏≠‡∏∑‡πà‡∏ô‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå",
        dimension: "T-F",
        leftTrait: "T",
        rightTrait: "F"
    },
    {
        question: "‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡∏Å‡∏±‡∏ö‡∏Ñ‡∏ô‡πÉ‡∏´‡∏°‡πà ‡∏â‡∏±‡∏ô‡∏ä‡∏≠‡∏ö‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏Ñ‡∏ô‡∏≠‡∏∑‡πà‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏à‡∏ó‡∏±‡∏ô‡∏ó‡∏µ",
        dimension: "T-F",
        leftTrait: "T",
        rightTrait: "F"
    },
    
    // J vs P Questions (31-40)
    {
        question: "‡πÉ‡∏ô‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ß‡∏±‡∏ô ‡∏â‡∏±‡∏ô‡∏ä‡∏≠‡∏ö‡∏°‡∏µ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡πÅ‡∏•‡∏∞‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡πÅ‡∏ô‡πà‡∏ô‡∏≠‡∏ô‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏ï‡∏≤‡∏°‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå",
        dimension: "J-P",
        leftTrait: "J",
        rightTrait: "P"
    },
    {
        question: "‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏ß‡∏•‡∏≤ ‡∏â‡∏±‡∏ô‡∏ä‡∏≠‡∏ö‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡πâ‡πÄ‡∏™‡∏£‡πá‡∏à‡∏Å‡πà‡∏≠‡∏ô‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÉ‡∏ô‡∏ô‡∏≤‡∏ó‡∏µ‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢",
        dimension: "J-P",
        leftTrait: "J",
        rightTrait: "P"
    },
    {
        question: "‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö‡∏´‡πâ‡∏≠‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÇ‡∏ï‡πä‡∏∞‡∏ó‡∏≥‡∏á‡∏≤‡∏ô ‡∏â‡∏±‡∏ô‡∏ä‡∏≠‡∏ö‡πÉ‡∏´‡πâ‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÑ‡∏ß‡πâ‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏ï‡∏≤‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏î‡∏ß‡∏Å",
        dimension: "J-P",
        leftTrait: "J",
        rightTrait: "P"
    },
    {
        question: "‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ï‡πâ‡∏≠‡∏á‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ß‡∏±‡∏ô‡∏´‡∏¢‡∏∏‡∏î‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á ‡∏â‡∏±‡∏ô‡∏ä‡∏≠‡∏ö‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡πÅ‡∏ö‡∏ö‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÅ‡∏•‡∏∞‡∏°‡∏µ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡πÅ‡∏ô‡πà‡∏ô‡∏≠‡∏ô",
        dimension: "J-P",
        leftTrait: "J",
        rightTrait: "P"
    },
    {
        question: "‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡∏´‡∏£‡∏∑‡∏≠‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡∏ç‡πà ‡∏â‡∏±‡∏ô‡∏ä‡∏≠‡∏ö‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÅ‡∏ö‡∏ö‡∏Ñ‡πà‡∏≠‡∏¢‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡πà‡∏≠‡∏¢‡πÑ‡∏õ‡πÅ‡∏•‡∏∞‡∏°‡∏µ‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô",
        dimension: "J-P",
        leftTrait: "J",
        rightTrait: "P"
    },
    {
        question: "‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡πÄ‡∏£‡πà‡∏á‡∏î‡πà‡∏ß‡∏ô ‡∏â‡∏±‡∏ô‡∏ä‡∏≠‡∏ö‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏£‡∏ß‡∏î‡πÄ‡∏£‡πá‡∏ß‡πÅ‡∏•‡∏∞‡πÑ‡∏°‡πà‡∏•‡∏±‡∏á‡πÄ‡∏•‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡∏Å‡∏≤‡∏£‡∏Ñ‡∏¥‡∏î‡∏ô‡∏≤‡∏ô",
        dimension: "J-P",
        leftTrait: "J",
        rightTrait: "P"
    },
    {
        question: "‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏±‡∏ö‡∏á‡∏≤‡∏ô‡∏´‡∏•‡∏≤‡∏¢‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô ‡∏â‡∏±‡∏ô‡∏ä‡∏≠‡∏ö‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏´‡∏•‡∏≤‡∏¢‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏±‡∏ö‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ï‡∏≤‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå",
        dimension: "J-P",
        leftTrait: "J",
        rightTrait: "P"
    },
    {
        question: "‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏ï‡∏≤‡∏°‡∏Å‡∏é‡∏´‡∏£‡∏∑‡∏≠‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö ‡∏â‡∏±‡∏ô‡∏ä‡∏≠‡∏ö‡∏ó‡∏≥‡∏ï‡∏≤‡∏°‡∏Å‡∏é‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏Ñ‡∏£‡πà‡∏á‡∏Ñ‡∏£‡∏±‡∏î‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ï‡∏≤‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°",
        dimension: "J-P",
        leftTrait: "J",
        rightTrait: "P"
    },
    {
        question: "‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏ï‡∏±‡∏ß‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç ‡∏â‡∏±‡∏ô‡∏ä‡∏≠‡∏ö‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏ï‡∏±‡∏ß‡πÅ‡∏ö‡∏ö‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÅ‡∏•‡∏∞‡∏°‡∏µ‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô",
        dimension: "J-P",
        leftTrait: "J",
        rightTrait: "P"
    },
    {
        question: "‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏•‡∏≤‡∏¢‡∏≠‡∏¢‡πà‡∏≤‡∏á ‡∏â‡∏±‡∏ô‡∏ä‡∏≠‡∏ö‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏£‡∏ß‡∏î‡πÄ‡∏£‡πá‡∏ß‡πÅ‡∏•‡∏∞‡πÑ‡∏°‡πà‡∏•‡∏±‡∏á‡πÄ‡∏•‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡∏Å‡∏≤‡∏£‡∏Ñ‡∏¥‡∏î‡∏ô‡∏≤‡∏ô",
        dimension: "J-P",
        leftTrait: "J",
        rightTrait: "P"
    }
];

// Initialize MBTI quiz
function initQuiz() {
    userAnswers = new Array(mbtiQuizData.length).fill(null);
    mbtiScores = { I: 0, E: 0, S: 0, N: 0, T: 0, F: 0, J: 0, P: 0 };
    currentQuestion = 0;
    quizCompleted = false;
    updateQuizDisplay();
}

// Update quiz display
function updateQuizDisplay() {
    const question = mbtiQuizData[currentQuestion];
    
    // Update question text
    document.getElementById('question-text').textContent = question.question;
    
    // Update progress
    const progress = ((currentQuestion + 1) / mbtiQuizData.length) * 100;
    document.getElementById('progress-fill').style.width = progress + '%';
    
    // Update question counter
    document.getElementById('current-question').textContent = currentQuestion + 1;
    document.getElementById('total-questions').textContent = mbtiQuizData.length;
    
    // Update navigation buttons
    updateNavigationButtons();
    
    // Update scale selection
    updateScaleSelection();
}

// Update navigation buttons
function updateNavigationButtons() {
    const prevBtn = document.querySelector('.prev-btn');
    const nextBtn = document.querySelector('.next-btn');
    const submitBtn = document.querySelector('.submit-btn');
    
    prevBtn.disabled = currentQuestion === 0;
    
    if (currentQuestion === mbtiQuizData.length - 1) {
        nextBtn.style.display = 'none';
        submitBtn.style.display = 'inline-block';
    } else {
        nextBtn.style.display = 'inline-block';
        submitBtn.style.display = 'none';
    }
}

// Update scale selection
function updateScaleSelection() {
    const scaleOptions = document.querySelectorAll('.scale-option');
    const selectedAnswer = userAnswers[currentQuestion];
    
    scaleOptions.forEach((option, index) => {
        option.classList.remove('selected');
        if (selectedAnswer === index) {
            option.classList.add('selected');
        }
    });
}

// Select scale option
function selectScaleOption(optionIndex) {
    userAnswers[currentQuestion] = optionIndex;
    updateScaleSelection();
}

// Next question
function nextQuestion() {
    if (currentQuestion < mbtiQuizData.length - 1) {
        currentQuestion++;
        updateQuizDisplay();
    }
}

// Previous question
function previousQuestion() {
    if (currentQuestion > 0) {
        currentQuestion--;
        updateQuizDisplay();
    }
}

// Calculate MBTI scores
function calculateMBTIScores() {
    // Reset scores
    mbtiScores = { I: 0, E: 0, S: 0, N: 0, T: 0, F: 0, J: 0, P: 0 };
    
    // Calculate scores based on 7-choice scale answers
    userAnswers.forEach((answer, index) => {
        if (answer !== null) {
            const question = mbtiQuizData[index];
            // Convert 0-6 scale to 1-7 scale
            const scaleValue = answer + 1;
            
            // Calculate weighted score for each trait
            if (scaleValue <= 3) {
                // Left side (1-3): Add points to left trait
                mbtiScores[question.leftTrait] += (4 - scaleValue); // 3, 2, 1 points
            } else if (scaleValue >= 5) {
                // Right side (5-7): Add points to right trait
                mbtiScores[question.rightTrait] += (scaleValue - 4); // 1, 2, 3 points
            }
            // Middle (4): Neutral, no points added
        }
    });
}

// Determine MBTI type
function determineMBTIType() {
    let mbtiType = '';
    
    // I vs E
    mbtiType += mbtiScores.I > mbtiScores.E ? 'I' : 'E';
    
    // S vs N
    mbtiType += mbtiScores.S > mbtiScores.N ? 'S' : 'N';
    
    // T vs F
    mbtiType += mbtiScores.T > mbtiScores.F ? 'T' : 'F';
    
    // J vs P
    mbtiType += mbtiScores.J > mbtiScores.P ? 'J' : 'P';
    
    return mbtiType;
}

// Store MBTI result and redirect to main page
function storeMBTIAndRedirect(mbtiType, mbtiScores) {
    // Store MBTI data in localStorage
    const mbtiData = {
        type: mbtiType,
        scores: mbtiScores,
        timestamp: new Date().toISOString(),
        description: getMBTIDescription(mbtiType)
    };
    
    localStorage.setItem('userMBTI', JSON.stringify(mbtiData));
    
    // Show success message and redirect
    const resultsHTML = `
        <h2>üéâ ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ö‡∏∏‡∏Ñ‡∏•‡∏¥‡∏Å‡∏†‡∏≤‡∏û‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì üéâ</h2>
        <div class="mbti-result">
            <div class="mbti-type">${mbtiType}</div>
            <div class="mbti-description">${getMBTIDescription(mbtiType)}</div>
        </div>
        
        <div class="scores-breakdown">
            <h3>‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì:</h3>
            <div class="score-pair">
                <div class="score-item">
                    <span class="trait">I (‡πÄ‡∏Å‡πá‡∏ö‡∏ï‡∏±‡∏ß):</span>
                    <span class="score">${mbtiScores.I}</span>
                </div>
                <div class="score-item">
                    <span class="trait">E (‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏ú‡∏¢):</span>
                    <span class="score">${mbtiScores.E}</span>
                </div>
            </div>
            <div class="score-pair">
                <div class="score-item">
                    <span class="trait">S (‡∏õ‡∏£‡∏∞‡∏™‡∏≤‡∏ó‡∏™‡∏±‡∏°‡∏ú‡∏±‡∏™):</span>
                    <span class="score">${mbtiScores.S}</span>
                </div>
                <div class="score-item">
                    <span class="trait">N (‡∏™‡∏±‡∏ç‡∏ä‡∏≤‡∏ï‡∏ç‡∏≤‡∏ì):</span>
                    <span class="score">${mbtiScores.N}</span>
                </div>
            </div>
            <div class="score-pair">
                <div class="score-item">
                    <span class="trait">T (‡∏Ñ‡∏¥‡∏î):</span>
                    <span class="score">${mbtiScores.T}</span>
                </div>
                <div class="score-item">
                    <span class="trait">F (‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å):</span>
                    <span class="score">${mbtiScores.F}</span>
                </div>
            </div>
            <div class="score-pair">
                <div class="score-item">
                    <span class="trait">J (‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô):</span>
                    <span class="score">${mbtiScores.J}</span>
                </div>
                <div class="score-item">
                    <span class="trait">P (‡∏£‡∏±‡∏ö‡∏£‡∏π‡πâ):</span>
                    <span class="score">${mbtiScores.P}</span>
                </div>
            </div>
        </div>
        
        <div class="redirect-message">
            <p>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ö‡∏∏‡∏Ñ‡∏•‡∏¥‡∏Å‡∏†‡∏≤‡∏û‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏•‡πâ‡∏ß! ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡πÅ‡∏ä‡∏ó...</p>
            <div class="loading-spinner"></div>
        </div>
    `;
    
    document.getElementById('quiz-results').innerHTML = resultsHTML;
    
    // Hide quiz main and show results
    document.querySelector('.quiz-main').style.display = 'none';
    document.getElementById('quiz-results').style.display = 'block';
    
    // Redirect to category page after 3 seconds
    setTimeout(() => {
        window.location.href = 'CategoryPage.html';
    }, 3000);
}

// Submit quiz
function submitQuiz() {
    const unansweredQuestions = userAnswers.filter(answer => answer === null).length;
    
    if (unansweredQuestions > 0) {
        alert(`‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏≠‡∏ö‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏Å‡πà‡∏≠‡∏ô‡∏™‡πà‡∏á ‡∏Ñ‡∏∏‡∏ì‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ï‡∏≠‡∏ö ${unansweredQuestions} ‡∏Ç‡πâ‡∏≠`);
        return;
    }
    
    calculateMBTIScores();
    const mbtiType = determineMBTIType();
    storeMBTIAndRedirect(mbtiType, mbtiScores);
}

// Get MBTI description
function getMBTIDescription(type) {
    const descriptions = {
        'INTJ': '‡∏™‡∏ñ‡∏≤‡∏õ‡∏ô‡∏¥‡∏Å - ‡∏ô‡∏±‡∏Å‡∏Ñ‡∏¥‡∏î‡πÄ‡∏ä‡∏¥‡∏á‡∏Å‡∏•‡∏¢‡∏∏‡∏ó‡∏ò‡πå‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏à‡∏¥‡∏ô‡∏ï‡∏ô‡∏≤‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡∏°‡∏µ‡πÅ‡∏ú‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏∏‡∏Å‡∏™‡∏¥‡πà‡∏á',
        'INTP': '‡∏ô‡∏±‡∏Å‡∏ï‡∏£‡∏£‡∏Å‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå - ‡∏ô‡∏±‡∏Å‡∏õ‡∏£‡∏∞‡∏î‡∏¥‡∏©‡∏ê‡πå‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏£‡∏£‡∏Ñ‡πå‡πÅ‡∏•‡∏∞‡∏Å‡∏£‡∏∞‡∏´‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡πÑ‡∏°‡πà‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î',
        'ENTJ': '‡∏ú‡∏π‡πâ‡∏ö‡∏±‡∏ç‡∏ä‡∏≤‡∏Å‡∏≤‡∏£ - ‡∏ú‡∏π‡πâ‡∏ô‡∏≥‡∏ó‡∏µ‡πà‡∏Å‡∏•‡πâ‡∏≤‡∏´‡∏≤‡∏ç ‡∏°‡∏µ‡∏à‡∏¥‡∏ô‡∏ï‡∏ô‡∏≤‡∏Å‡∏≤‡∏£ ‡πÅ‡∏•‡∏∞‡∏°‡∏µ‡πÄ‡∏à‡∏ï‡∏à‡∏≥‡∏ô‡∏á‡πÅ‡∏Ç‡πá‡∏á‡πÅ‡∏Å‡∏£‡πà‡∏á',
        'ENTP': '‡∏ô‡∏±‡∏Å‡πÇ‡∏ï‡πâ‡∏ß‡∏≤‡∏ó‡∏µ - ‡∏ô‡∏±‡∏Å‡∏Ñ‡∏¥‡∏î‡∏ó‡∏µ‡πà‡∏â‡∏•‡∏≤‡∏î‡πÅ‡∏•‡∏∞‡∏≠‡∏¢‡∏≤‡∏Å‡∏£‡∏π‡πâ‡∏≠‡∏¢‡∏≤‡∏Å‡πÄ‡∏´‡πá‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ï‡πâ‡∏≤‡∏ô‡∏ó‡∏≤‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡πâ‡∏≤‡∏ó‡∏≤‡∏¢‡∏ó‡∏≤‡∏á‡∏õ‡∏±‡∏ç‡∏ç‡∏≤‡πÑ‡∏î‡πâ',
        'INFJ': '‡∏ú‡∏π‡πâ‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô - ‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏á‡∏µ‡∏¢‡∏ö‡πÅ‡∏•‡∏∞‡∏•‡∏∂‡∏Å‡∏•‡∏±‡∏ö ‡πÅ‡∏ï‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏£‡∏á‡∏ö‡∏±‡∏ô‡∏î‡∏≤‡∏•‡πÉ‡∏à‡πÅ‡∏•‡∏∞‡πÑ‡∏°‡πà‡πÄ‡∏´‡∏ô‡πá‡∏î‡πÄ‡∏´‡∏ô‡∏∑‡πà‡∏≠‡∏¢',
        'INFP': '‡∏ú‡∏π‡πâ‡πÑ‡∏Å‡∏•‡πà‡πÄ‡∏Å‡∏•‡∏µ‡πà‡∏¢ - ‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡πÇ‡∏£‡πÅ‡∏°‡∏ô‡∏ï‡∏¥‡∏Å ‡πÉ‡∏à‡∏î‡∏µ ‡πÅ‡∏•‡∏∞‡πÄ‡∏™‡∏µ‡∏¢‡∏™‡∏•‡∏∞ ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡∏ó‡∏µ‡πà‡∏î‡∏µ‡πÄ‡∏™‡∏°‡∏≠',
        'ENFJ': '‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏Å - ‡∏ú‡∏π‡πâ‡∏ô‡∏≥‡∏ó‡∏µ‡πà‡∏°‡∏µ‡πÄ‡∏™‡∏ô‡πà‡∏´‡πå‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏£‡∏á‡∏ö‡∏±‡∏ô‡∏î‡∏≤‡∏•‡πÉ‡∏à ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡∏ü‡∏±‡∏á‡∏´‡∏•‡∏á‡πÉ‡∏´‡∏•‡πÑ‡∏î‡πâ',
        'ENFP': '‡∏ô‡∏±‡∏Å‡∏£‡∏ì‡∏£‡∏á‡∏Ñ‡πå - ‡∏ß‡∏¥‡∏ç‡∏ç‡∏≤‡∏ì‡∏≠‡∏¥‡∏™‡∏£‡∏∞‡∏ó‡∏µ‡πà‡∏Å‡∏£‡∏∞‡∏ï‡∏∑‡∏≠‡∏£‡∏∑‡∏≠‡∏£‡πâ‡∏ô ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏£‡∏£‡∏Ñ‡πå ‡πÅ‡∏•‡∏∞‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏±‡∏á‡∏Ñ‡∏°',
        'ISTJ': '‡∏ô‡∏±‡∏Å‡πÇ‡∏•‡∏à‡∏¥‡∏™‡∏ï‡∏¥‡∏Å‡∏™‡πå - ‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏à‡∏£‡∏¥‡∏á‡πÅ‡∏•‡∏∞‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏ñ‡∏∑‡∏≠‡πÑ‡∏î‡πâ ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡πà‡∏≤‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏ñ‡∏∑‡∏≠‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏á‡∏™‡∏±‡∏¢',
        'ISFJ': '‡∏ú‡∏π‡πâ‡∏û‡∏¥‡∏ó‡∏±‡∏Å‡∏©‡πå - ‡∏ú‡∏π‡πâ‡∏õ‡∏Å‡∏õ‡πâ‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏≠‡∏∏‡∏ó‡∏¥‡∏®‡∏ï‡∏ô‡πÅ‡∏•‡∏∞‡∏≠‡∏ö‡∏≠‡∏∏‡πà‡∏ô ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏õ‡∏Å‡∏õ‡πâ‡∏≠‡∏á‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏Å‡πÄ‡∏™‡∏°‡∏≠',
        'ESTJ': '‡∏ú‡∏π‡πâ‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£ - ‡∏ú‡∏π‡πâ‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏¢‡∏≠‡∏î‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏° ‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÉ‡∏Ñ‡∏£‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡πà‡∏á‡∏ï‡πà‡∏≤‡∏á‡πÜ ‡∏´‡∏£‡∏∑‡∏≠‡∏ú‡∏π‡πâ‡∏Ñ‡∏ô',
        'ESFJ': '‡∏Å‡∏á‡∏™‡∏∏‡∏• - ‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏´‡πà‡∏ß‡∏á‡πÉ‡∏¢ ‡∏™‡∏±‡∏á‡∏Ñ‡∏° ‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏ó‡∏µ‡πà‡∏ô‡∏¥‡∏¢‡∏°‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏°‡πà‡∏ò‡∏£‡∏£‡∏°‡∏î‡∏≤',
        'ISTP': '‡∏®‡∏¥‡∏•‡∏õ‡∏¥‡∏ô - ‡∏ô‡∏±‡∏Å‡∏ó‡∏î‡∏•‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏Å‡∏•‡πâ‡∏≤‡∏´‡∏≤‡∏ç‡πÅ‡∏•‡∏∞‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏à‡∏£‡∏¥‡∏á ‡∏õ‡∏£‡∏°‡∏≤‡∏à‡∏≤‡∏£‡∏¢‡πå‡∏Ç‡∏≠‡∏á‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ó‡∏∏‡∏Å‡∏ä‡∏ô‡∏¥‡∏î',
        'ISFP': '‡∏ô‡∏±‡∏Å‡∏ú‡∏à‡∏ç‡∏†‡∏±‡∏¢ - ‡∏®‡∏¥‡∏•‡∏õ‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡∏¢‡∏∑‡∏î‡∏´‡∏¢‡∏∏‡πà‡∏ô‡πÅ‡∏•‡∏∞‡∏°‡∏µ‡πÄ‡∏™‡∏ô‡πà‡∏´‡πå ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏™‡∏≥‡∏£‡∏ß‡∏à‡πÅ‡∏•‡∏∞‡∏™‡∏±‡∏°‡∏ú‡∏±‡∏™‡∏õ‡∏£‡∏∞‡∏™‡∏ö‡∏Å‡∏≤‡∏£‡∏ì‡πå‡πÉ‡∏´‡∏°‡πà‡πÄ‡∏™‡∏°‡∏≠',
        'ESTP': '‡∏ú‡∏π‡πâ‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏Å‡∏≤‡∏£ - ‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏â‡∏•‡∏≤‡∏î ‡∏°‡∏µ‡∏û‡∏•‡∏±‡∏á ‡πÅ‡∏•‡∏∞‡∏£‡∏±‡∏ö‡∏£‡∏π‡πâ‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏°‡∏≤‡∏Å',
        'ESFP': '‡∏ú‡∏π‡πâ‡πÉ‡∏´‡πâ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ö‡∏±‡∏ô‡πÄ‡∏ó‡∏¥‡∏á - ‡∏ú‡∏π‡πâ‡πÉ‡∏´‡πâ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ö‡∏±‡∏ô‡πÄ‡∏ó‡∏¥‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏≠‡∏á ‡∏°‡∏µ‡∏û‡∏•‡∏±‡∏á ‡πÅ‡∏•‡∏∞‡∏Å‡∏£‡∏∞‡∏ï‡∏∑‡∏≠‡∏£‡∏∑‡∏≠‡∏£‡πâ‡∏ô'
    };
    
    return descriptions[type] || '‡∏ö‡∏∏‡∏Ñ‡∏•‡∏¥‡∏Å‡∏†‡∏≤‡∏û‡∏û‡∏¥‡πÄ‡∏®‡∏©‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏≠‡∏á!';
}

// Restart quiz
function restartQuiz() {
    initQuiz();
    document.querySelector('.quiz-main').style.display = 'block';
    document.getElementById('quiz-results').style.display = 'none';
}

// Navigation functions
function goHome() {
    window.location.href = 'FrontPage.html';
}

function toggleMenu() {
    const menuPopup = document.getElementById('menu-popup');
    menuPopup.classList.toggle('active');
}

// Dark mode toggle
function toggleDarkMode() {
    document.body.classList.toggle('darkmode');
    const isDarkMode = document.body.classList.contains('darkmode');
    localStorage.setItem('darkMode', isDarkMode);
}

// Initialize dark mode from localStorage
function initDarkMode() {
    const isDarkMode = localStorage.getItem('darkMode') === 'true';
    if (isDarkMode) {
        document.body.classList.add('darkmode');
        document.getElementById('dark-mode-toggle').checked = true;
    }
}

// Event listeners
document.addEventListener('DOMContentLoaded', function() {
    // Add mobile-specific optimizations
    if (window.innerWidth <= 768) {
        document.body.classList.add('mobile-view');
    }
    
    // Handle orientation changes
    window.addEventListener('resize', function() {
        if (window.innerWidth <= 768) {
            document.body.classList.add('mobile-view');
        } else {
            document.body.classList.remove('mobile-view');
        }
    });
    
    initQuiz();
    initDarkMode();
    
    // Dark mode toggle event
    document.getElementById('dark-mode-toggle').addEventListener('change', toggleDarkMode);
    
    // Close menu when clicking outside
    document.addEventListener('click', function(event) {
        const menuPopup = document.getElementById('menu-popup');
        const menuIcon = document.querySelector('.menu-icon');
        
        if (!menuPopup.contains(event.target) && !menuIcon.contains(event.target)) {
            menuPopup.classList.remove('active');
        }
    });
});

// Keyboard navigation
document.addEventListener('keydown', function(event) {
    if (quizCompleted) return;
    
    switch(event.key) {
        case 'ArrowRight':
        case ' ':
            if (currentQuestion < mbtiQuizData.length - 1) {
                nextQuestion();
            }
            break;
        case 'ArrowLeft':
            if (currentQuestion > 0) {
                previousQuestion();
            }
            break;
        case '1':
            selectScaleOption(0);
            break;
        case '2':
            selectScaleOption(1);
            break;
        case '3':
            selectScaleOption(2);
            break;
        case '4':
            selectScaleOption(3);
            break;
        case '5':
            selectScaleOption(4);
            break;
        case '6':
            selectScaleOption(5);
            break;
        case '7':
            selectScaleOption(6);
            break;
    }
}); 